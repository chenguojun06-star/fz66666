<view class="container">
  <view class="card register-card">
    <view class="title">员工注册</view>
    <view class="subtitle">填写信息后等待工厂管理员审批</view>

    <!-- 工厂编码 -->
    <view class="field">
      <view class="label">工厂编码 <text class="required">*</text></view>
      <view class="input-row">
        <input
          class="input {{tenantCode ? '' : ''}}"
          placeholder="请输入工厂编码"
          value="{{tenantCode}}"
          bindinput="onTenantCodeInput"
          disabled="{{!!scannedCode}}"
        />
        <view class="scan-btn" bindtap="onScanCode">
          <text class="scan-icon">📷</text>
        </view>
      </view>
      <view wx:if="{{tenantName}}" class="tenant-info">
        <text class="tenant-tag">✅ {{tenantName}}</text>
      </view>
    </view>

    <!-- 用户名 -->
    <view class="field">
      <view class="label">用户名 <text class="required">*</text></view>
      <input
        class="input"
        placeholder="3-20位字母、数字、下划线"
        value="{{username}}"
        bindinput="onUsernameInput"
        maxlength="20"
      />
    </view>

    <!-- 真实姓名 -->
    <view class="field">
      <view class="label">真实姓名 <text class="required">*</text></view>
      <input
        class="input"
        placeholder="请输入真实姓名"
        value="{{name}}"
        bindinput="onNameInput"
      />
    </view>

    <!-- 手机号 -->
    <view class="field">
      <view class="label">手机号 <text class="required">*</text></view>
      <input
        class="input"
        type="number"
        placeholder="请输入手机号"
        value="{{phone}}"
        bindinput="onPhoneInput"
        maxlength="11"
      />
    </view>

    <!-- 密码 -->
    <view class="field">
      <view class="label">密码 <text class="required">*</text></view>
      <input
        class="input"
        password="true"
        placeholder="至少6位密码"
        value="{{password}}"
        bindinput="onPasswordInput"
      />
    </view>

    <!-- 确认密码 -->
    <view class="field">
      <view class="label">确认密码 <text class="required">*</text></view>
      <input
        class="input"
        password="true"
        placeholder="请再次输入密码"
        value="{{confirmPassword}}"
        bindinput="onConfirmPasswordInput"
      />
    </view>

    <!-- 提交按钮 -->
    <view class="btn">
      <view class="btn-primary {{loading ? 'btn-disabled' : ''}}" bindtap="onSubmit">
        {{loading ? '提交中...' : '提交注册申请'}}
      </view>
    </view>

    <!-- 返回登录 -->
    <view class="back-link" bindtap="onBackToLogin">
      已有账号？返回登录
    </view>
  </view>
</view>
