<view class="quality-form" wx:if="{{visible}}">
  <view class="form-mask" bindtap="onCancel"></view>
  <view class="form-container">
    <view class="form-header">
      <text class="form-title">质检录入</text>
      <view class="close-btn" bindtap="onCancel">×</view>
    </view>

    <view class="form-body">
      <!-- 订单信息 -->
      <view class="order-info" wx:if="{{scanInfo}}">
        <view class="info-item">
          <text class="label">订单号：</text>
          <text class="value">{{scanInfo.orderNo || '-'}}</text>
        </view>
        <view class="info-item">
          <text class="label">扎号：</text>
          <text class="value">{{scanInfo.bundleNo || '-'}}</text>
        </view>
      </view>

      <!-- 质检表单 -->
      <view class="form-item">
        <view class="form-label">合格数</view>
        <input 
          class="form-input" 
          type="number" 
          placeholder="请输入合格数量"
          value="{{qualifiedQuantity}}"
          bindinput="onQualifiedInput"
        />
      </view>

      <view class="form-item">
        <view class="form-label">次品数</view>
        <input 
          class="form-input" 
          type="number" 
          placeholder="请输入次品数量"
          value="{{defectQuantity}}"
          bindinput="onDefectInput"
        />
      </view>

      <view class="form-item">
        <view class="form-label">备注</view>
        <textarea 
          class="form-textarea" 
          placeholder="请输入备注信息（选填）"
          value="{{remark}}"
          bindinput="onRemarkInput"
          maxlength="200"
        />
      </view>
    </view>

    <view class="form-footer">
      <button class="cancel-btn" bindtap="onCancel">取消</button>
      <button class="submit-btn" bindtap="onSubmit" loading="{{loading}}">提交</button>
    </view>
  </view>
</view>
