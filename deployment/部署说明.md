# ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æŒ‡å—

> **å®Œæ•´ç³»ç»Ÿéƒ¨ç½²**ï¼šäº‘æœåŠ¡å™¨ï¼ˆåç«¯+PCå‰ç«¯ï¼‰ + å¾®ä¿¡å°ç¨‹åºï¼ˆç‹¬ç«‹å‘å¸ƒï¼‰

## ğŸ“¦ éƒ¨ç½²æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    äº‘æœåŠ¡å™¨ (106.53.5.62)       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ PCå‰ç«¯   â”‚  â”‚  åç«¯API    â”‚  â”‚
â”‚  â”‚ (React)  â”‚  â”‚(Spring Boot)â”‚  â”‚
â”‚  â”‚  :80     â”‚  â”‚   :8088     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â–²                â–²
        â”‚                â”‚ HTTP API
   PCæµè§ˆå™¨           å¾®ä¿¡å°ç¨‹åº
   è®¿é—®ç•Œé¢          (ç‹¬ç«‹å‘å¸ƒ)
```

**é‡è¦**ï¼š
- âœ… äº‘æœåŠ¡å™¨éƒ¨ç½²ï¼šåç«¯ + PCå‰ç«¯
- âœ… å°ç¨‹åºå‘å¸ƒï¼šå¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸Šä¼ ï¼ˆå‚è€ƒ `å°ç¨‹åºå‘å¸ƒæŒ‡å—.md`ï¼‰

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

### ä½¿ç”¨ä¸€é”®éƒ¨ç½²è„šæœ¬

```bash
# 1. æœ¬åœ°æ‰“åŒ…ï¼ˆMacä¸Šæ‰§è¡Œï¼‰
cd /Users/guojunmini4/Documents/æœè£…66666
./deployment/package-for-cloud.sh

# 2. ä¸Šä¼ åˆ°æœåŠ¡å™¨
scp -r deployment root@106.53.5.62:/root/fashion-supplychain/

# 3. æœåŠ¡å™¨ä¸Šæ‰§è¡Œ
ssh root@106.53.5.62
cd /root/fashion-supplychain/deployment
./deploy-to-cloud.sh
```

---

## ğŸ“– è¯¦ç»†æ­¥éª¤

### 1. å‡†å¤‡å·¥ä½œ

**äº‘æœåŠ¡å™¨è¦æ±‚**ï¼š
- ç³»ç»Ÿï¼šCentOS 8+ / Ubuntu 20.04+
- é…ç½®ï¼šâ‰¥2æ ¸4GBï¼ˆæ¨è4æ ¸8GBï¼‰
- è½¯ä»¶ï¼šDocker + Docker Compose

**æ£€æŸ¥Docker**ï¼š
```bash
docker --version
docker-compose --version
```

å¦‚æœªå®‰è£…ï¼Œéƒ¨ç½²è„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…ã€‚

### 2. æœ¬åœ°æ‰“åŒ…

**åœ¨æœ¬åœ°å¼€å‘æœºæ‰§è¡Œ**ï¼š

   ```bash
   # 1. æ‰“åŒ…åç«¯ jar
   cd backend
   mvn clean package -DskipTests
   cp target/supplychain-0.0.1-SNAPSHOT.jar ../deployment/backend.jar

   # 2. æ‰“åŒ…PCå‰ç«¯ dist
   cd ../frontend
   npm run build
   cp -r dist ../deployment/
   ```

**âš ï¸ å°ç¨‹åºä¸éœ€è¦æ‰“åŒ…åˆ°äº‘æœåŠ¡å™¨**ï¼Œå®ƒé€šè¿‡å¾®ä¿¡å¼€å‘è€…å·¥å…·å•ç‹¬å‘å¸ƒã€‚

### 3. ä¸Šä¼ åˆ°æœåŠ¡å™¨

   ç›®å½•ç»“æ„åº”è¯¥æ˜¯ï¼š

   ```
   deployment/
   â”œâ”€â”€ backend.jar          (ä»åç«¯ target ç›®å½•å¤åˆ¶æ¥)
   â”œâ”€â”€ dist/                (ä»å‰ç«¯ç›®å½•å¤åˆ¶æ¥)
   â”œâ”€â”€ docker-compose.yml
   â”œâ”€â”€ .env                 (ç”± .env.example å¤åˆ¶ä¿®æ”¹)
   â””â”€â”€ nginx/
       â””â”€â”€ conf.d/
           â””â”€â”€ default.conf
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**ï¼š

   ```bash
   cp .env.example .env
   vim .env
   ```

   ä¿®æ”¹é‡Œé¢çš„å¯†ç å’Œå¯†é’¥ï¼Œç¡®ä¿å®‰å…¨ã€‚

4. **å¯åŠ¨æœåŠ¡**ï¼š
   ```bash
   docker-compose up -d
   ```

## 3. éªŒè¯

è®¿é—®æœåŠ¡å™¨ IP æˆ–åŸŸåï¼ˆç«¯å£ 80ï¼‰ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ç³»ç»Ÿã€‚

## 4. æ³¨æ„äº‹é¡¹

- **æ•°æ®åº“æ•°æ®**ï¼š
  Docker Compose å¯åŠ¨çš„ MySQL æ•°æ®ä¼šä¿å­˜åœ¨ `mysql_data` è¿™ä¸ª Docker Volume é‡Œï¼Œé‡å¯ä¸ä¼šä¸¢å¤±ã€‚
- **HTTPS**ï¼š
  å¦‚æœéœ€è¦ HTTPSï¼Œè¯·ä¿®æ”¹ `nginx/conf.d/default.conf`ï¼Œé…ç½® SSL è¯ä¹¦è·¯å¾„ã€‚
