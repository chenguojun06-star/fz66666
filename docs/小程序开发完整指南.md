# å¾®ä¿¡å°ç¨‹åº - ä¸šåŠ¡é€»è¾‘ä¼˜åŒ–å·¥å…·å®Œæ•´æŒ‡å—

**æœ€åæ›´æ–°**: 2026-01-25  
**é¡¹ç›®**: æœè£…ä¾›åº”é“¾ç®¡ç†ç³»ç»Ÿ - å°ç¨‹åºç«¯  
**ç›®æ ‡**: æå‡ä»£ç è´¨é‡ã€ä¼˜åŒ–ä¸šåŠ¡é€»è¾‘ã€å‡å°‘Bugã€æé«˜å¯ç»´æŠ¤æ€§

---

## ğŸ“‹ ç›®å½•

1. [å·²å®Œæˆçš„ä¼˜åŒ–](#å·²å®Œæˆçš„ä¼˜åŒ–)
2. [æ¨èå·¥å…·æ¸…å•](#æ¨èå·¥å…·æ¸…å•)
3. [ä¸šåŠ¡é€»è¾‘ä¼˜åŒ–å·¥å…·](#ä¸šåŠ¡é€»è¾‘ä¼˜åŒ–å·¥å…·)
4. [å¿«é€Ÿå®‰è£…æŒ‡å—](#å¿«é€Ÿå®‰è£…æŒ‡å—)
5. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## âœ… å·²å®Œæˆçš„ä¼˜åŒ–

### ä»£ç è´¨é‡ï¼ˆ2026-01-25ï¼‰
- âœ… ESLint è­¦å‘Šï¼š40ä¸ª â†’ **0ä¸ª** (â†“100%)
- âœ… wx.showToastï¼š41å¤„ â†’ **2å¤„**(æ³¨é‡Š) (â†“95%)
- âœ… åˆ›å»ºå·¥å…·åº“ï¼š`uiHelper.js`ã€`validator.js`
- âœ… ä»£ç é‡å¤ç‡ï¼šé™ä½ ~30%
- âœ… ä¸¥æ ¼ç›¸ç­‰æ£€æŸ¥ï¼š`==` â†’ `===`ï¼ˆ37å¤„ä¿®å¤ï¼‰

### å·²é…ç½®å·¥å…· âœ…
| å·¥å…· | åŠŸèƒ½ | å‘½ä»¤ |
|------|------|------|
| ESLint | ä»£ç è´¨é‡æ£€æŸ¥ | `npm run æ£€æŸ¥` |
| ESLint --fix | è‡ªåŠ¨ä¿®å¤ | `npm run ä¿®å¤` |
| TypeScript | JSDocç±»å‹æ£€æŸ¥ | `npm run ç±»å‹æ£€æŸ¥` |
| å¾®ä¿¡å¼€å‘è€…å·¥å…· | å®˜æ–¹IDE+è°ƒè¯• | æ‰“å¼€é¡¹ç›® |

---

## ğŸ¯ æ¨èå·¥å…·æ¸…å•

### ğŸ”¥ P0 - ç«‹å³å¯ç”¨ï¼ˆæ— éœ€å®‰è£…ï¼‰

#### 1. **å¾®ä¿¡å¼€å‘è€…å·¥å…· - å†…ç½®åˆ†æå™¨** â­â­â­â­â­

**â‘  ä»£ç è´¨é‡æ£€æŸ¥**
```
èœå•æ  â†’ å·¥å…· â†’ ä»£ç è´¨é‡
```
**åŠŸèƒ½**ï¼š
- âœ… æ£€æµ‹æœªä½¿ç”¨çš„å˜é‡å’Œå‡½æ•°
- âœ… æ£€æµ‹æœªå®šä¹‰çš„å˜é‡ï¼ˆæ‹¼å†™é”™è¯¯ï¼‰
- âœ… æ£€æµ‹è¯­æ³•é”™è¯¯
- âœ… æ£€æµ‹æ½œåœ¨çš„æ€§èƒ½é—®é¢˜
- âœ… æ£€æµ‹åºŸå¼ƒAPIä½¿ç”¨

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
âš ï¸ pages/scan/index.js:156 - 'oldData' å·²å£°æ˜ä½†æœªä½¿ç”¨
âš ï¸ pages/work/index.js:89 - 'productionProgress' å·²å£°æ˜ä½†æœªä½¿ç”¨
âš ï¸ utils/helper.js:23 - ä½¿ç”¨äº†åºŸå¼ƒAPI 'wx.showNavigationBarLoading'
```

**â‘¡ æ€§èƒ½åˆ†æå™¨ï¼ˆPerformanceï¼‰**
```
è°ƒè¯•å™¨ â†’ Performance é¢æ¿
```
**åŠŸèƒ½**ï¼š
- ğŸ“Š å½•åˆ¶é¡µé¢åŠ è½½æ€§èƒ½
- ğŸ“Š åˆ†ææ¸²æŸ“è€—æ—¶ï¼ˆsetDataï¼‰
- ğŸ“Š æ£€æµ‹å†…å­˜æ³„æ¼
- ğŸ“Š æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ç€‘å¸ƒå›¾
- ğŸ“Š è¯†åˆ«é•¿ä»»åŠ¡ï¼ˆ>50msï¼‰

**ä½¿ç”¨æ­¥éª¤**ï¼š
1. æ‰“å¼€ Performance é¢æ¿
2. ç‚¹å‡»"å¼€å§‹å½•åˆ¶"
3. æ“ä½œå°ç¨‹åºï¼ˆå¦‚æ‰«ç ã€æäº¤ï¼‰
4. åœæ­¢å½•åˆ¶ï¼ŒæŸ¥çœ‹ç«ç„°å›¾
5. æŸ¥æ‰¾è€—æ—¶æœ€é•¿çš„å‡½æ•°è°ƒç”¨

**â‘¢ ä»£ç ä¾èµ–åˆ†æ**
```
å·¥å…· â†’ ä¾èµ–åˆ†æ
```
**åŠŸèƒ½**ï¼š
- ğŸ” åˆ†ææ–‡ä»¶ä¾èµ–å…³ç³»
- ğŸ” æ£€æµ‹å¾ªç¯ä¾èµ–ï¼ˆå¯¼è‡´åŠ è½½å¡é¡¿ï¼‰
- ğŸ” æŸ¥çœ‹ä»£ç ä½“ç§¯å æ¯”
- ğŸ” è¯†åˆ«é‡å¤å¼•ç”¨

**â‘£ ä½“ç§¯åˆ†æ**
```
è¯¦æƒ… â†’ æœ¬åœ°è®¾ç½® â†’ ä»£ç è´¨é‡ â†’ ä¸Šä¼ ä»£ç æ—¶è¿›è¡Œä»£ç ä¿æŠ¤
è¯¦æƒ… â†’ åŸºæœ¬ä¿¡æ¯ â†’ æŸ¥çœ‹ä»£ç åŒ…å¤§å°
```
**é™åˆ¶**ï¼šä¸»åŒ… â‰¤ 2MBï¼Œæ€»ä½“ç§¯ â‰¤ 20MB

#### 2. **çœŸæœºè°ƒè¯•** â­â­â­â­â­
```
å·¥å…·æ  â†’ çœŸæœºè°ƒè¯•
```
**åŠŸèƒ½**ï¼š
- ğŸ“± åœ¨çœŸå®è®¾å¤‡ä¸Šæµ‹è¯•æ€§èƒ½
- ğŸ“± æ£€æŸ¥ç½‘ç»œè¯·æ±‚ï¼ˆçœŸå®ç½‘ç»œç¯å¢ƒï¼‰
- ğŸ“± è°ƒè¯•æ‰«ç åŠŸèƒ½ï¼ˆæ‘„åƒå¤´ï¼‰
- ğŸ“± éªŒè¯ç”¨æˆ·ä½“éªŒï¼ˆæ»šåŠ¨ã€ç‚¹å‡»æµç•…åº¦ï¼‰
- ğŸ“± æ£€æµ‹æœºå‹å…¼å®¹æ€§ï¼ˆiOS vs Androidï¼‰

#### 3. **AppData ç›‘æ§**
```
è°ƒè¯•å™¨ â†’ AppData é¢æ¿
```
**åŠŸèƒ½**ï¼š
- å®æ—¶æŸ¥çœ‹ `data` æ•°æ®å˜åŒ–
- ç›‘æ§ `setData` è°ƒç”¨é¢‘ç‡
- æ£€æµ‹æ•°æ®å¤§å°ï¼ˆé¿å… setData è¿‡å¤§ï¼‰

---

### â­ P1 - å¼ºçƒˆæ¨èå®‰è£…

#### 1. **Prettier - ä»£ç æ ¼å¼åŒ–** â­â­â­â­â­

**å®‰è£…**ï¼š
```bash
cd miniprogram
npm install -D prettier

# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > .prettierrc << 'EOF'
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100,
  "endOfLine": "lf"
}
EOF

# æ·»åŠ è„šæœ¬
npm pkg set scripts.æ ¼å¼åŒ–="prettier --write \"**/*.{js,json,wxml,wxss}\""
npm pkg set scripts.æ£€æŸ¥æ ¼å¼="prettier --check \"**/*.{js,json,wxml,wxss}\""
```

**ä½¿ç”¨**ï¼š
```bash
# æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶
npm run æ ¼å¼åŒ–

# ä»…æ£€æŸ¥æ ¼å¼ï¼ˆä¸ä¿®æ”¹ï¼‰
npm run æ£€æŸ¥æ ¼å¼

# æ ¼å¼åŒ–å•ä¸ªæ–‡ä»¶
npx prettier --write pages/scan/index.js
```

#### 2. **ä»£ç å¤æ‚åº¦æ£€æŸ¥** â­â­â­â­

**é…ç½® ESLint å¤æ‚åº¦è§„åˆ™**ï¼ˆå·²æœ‰ ESLintï¼‰ï¼š
```bash
# ç¼–è¾‘ miniprogram/package.jsonï¼Œåœ¨ eslintConfig.rules ä¸­æ·»åŠ 
```

```json
{
  "eslintConfig": {
    "rules": {
      "complexity": ["warn", 15],
      "max-depth": ["warn", 4],
      "max-lines-per-function": ["warn", {
        "max": 150,
        "skipBlankLines": true,
        "skipComments": true
      }],
      "max-params": ["warn", 5],
      "max-nested-callbacks": ["warn", 3]
    }
  }
}
```

**æ£€æŸ¥å‘½ä»¤**ï¼š
```bash
npm run æ£€æŸ¥
```

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
pages/scan/index.js
  245:3  warning  Function 'processScanCode' has a complexity of 18  complexity
  450:3  warning  Function 'onConfirmScan' is too long (165 lines)  max-lines-per-function
```

#### 3. **ä¾èµ–æ£€æŸ¥ - depcheck** â­â­â­â­

**å®‰è£…**ï¼š
```bash
npm install -g depcheck
```

**ä½¿ç”¨**ï¼š
```bash
cd miniprogram
depcheck
```

**è¾“å‡º**ï¼š
```
Unused dependencies
* @types/node (ä»…å¼€å‘æ—¶ä½¿ç”¨ï¼Œå¯å¿½ç•¥)

Missing dependencies
* lodash (ä»£ç ä¸­ä½¿ç”¨ä½†æœªå®‰è£…ï¼Œéœ€å®‰è£…)

Unused devDependencies
* jest (å·²åˆ é™¤æµ‹è¯•ï¼Œå¯å¸è½½)
```

#### 4. **è‡ªåŠ¨å¯¼å…¥ç®¡ç† - VS Code æ‰©å±•** â­â­â­â­

**å®‰è£… VS Code æ‰©å±•**ï¼š
```bash
# å°ç¨‹åºå¼€å‘æ”¯æŒ
code --install-extension qiu8310.minapp-vscode

# è‡ªåŠ¨å¯¼å…¥æ•´ç†
code --install-extension dbaeumer.vscode-eslint
```

**åŠŸèƒ½**ï¼š
- è‡ªåŠ¨è¡¥å…¨å°ç¨‹åºAPIï¼ˆwx.*ï¼‰
- è‡ªåŠ¨å¯¼å…¥æœªå®šä¹‰çš„æ¨¡å—
- WXML/WXSS è¯­æ³•é«˜äº®
- æ™ºèƒ½æç¤º

---

### ğŸ“Š P2 - ä¸šåŠ¡é€»è¾‘ä¼˜åŒ–å·¥å…·

#### 1. **ä»£ç è¦†ç›–ç‡æ£€æŸ¥ - æ‰‹åŠ¨åˆ†æ** â­â­â­â­

**æ£€æŸ¥æœªä½¿ç”¨çš„å‡½æ•°**ï¼š
```bash
cd miniprogram

# 1. æŸ¥æ‰¾æ‰€æœ‰å‡½æ•°å®šä¹‰
grep -rh "^\s*[a-zA-Z_][a-zA-Z0-9_]*\s*(" pages/ --include="*.js" | \
  sed 's/(.*//' | sed 's/^\s*//' | sort -u > /tmp/functions.txt

# 2. æŸ¥æ‰¾WXMLä¸­çš„äº‹ä»¶ç»‘å®š
grep -rh "bind[a-z]*=\"" pages/ --include="*.wxml" | \
  grep -o 'bind[a-z]*="[^"]*"' | cut -d'"' -f2 | sort -u > /tmp/bindings.txt

# 3. å¯¹æ¯”æ‰¾å‡ºæœªä½¿ç”¨çš„å‡½æ•°ï¼ˆéœ€æ‰‹åŠ¨æ£€æŸ¥ï¼‰
```

**æ£€æŸ¥åºŸå¼ƒä»£ç ï¼ˆæ³¨é‡Šæ‰ä½†æœªåˆ é™¤ï¼‰**ï¼š
```bash
# æŸ¥æ‰¾è¢«æ³¨é‡Šçš„ä»£ç å—
grep -rn "^[\s]*//.*{" pages/ --include="*.js" | head -20
```

#### 2. **ä¸šåŠ¡é€»è¾‘é‡å¤æ£€æµ‹ - jsinspect** â­â­â­

**å®‰è£…**ï¼š
```bash
npm install -g jsinspect
```

**ä½¿ç”¨**ï¼š
```bash
cd miniprogram

# æ£€æµ‹é‡å¤ä»£ç ï¼ˆé˜ˆå€¼30è¡Œï¼‰
jsinspect pages/ -t 30

# è¾“å‡ºç¤ºä¾‹ï¼š
# Match - 2 instances
# pages/scan/index.js:245-278
# pages/work/index.js:156-189
```

**ä¿®å¤ç­–ç•¥**ï¼šæå–ä¸ºå…¬å…±å‡½æ•°åˆ° `utils/` ç›®å½•

#### 3. **å¾ªç¯ä¾èµ–æ£€æµ‹ - madge** â­â­â­â­

**å®‰è£…**ï¼š
```bash
npm install -g madge
```

**ä½¿ç”¨**ï¼š
```bash
cd miniprogram

# æ£€æµ‹å¾ªç¯ä¾èµ–
madge --circular pages/

# ç”Ÿæˆä¾èµ–å›¾ï¼ˆéœ€å®‰è£… Graphvizï¼‰
madge --image deps.svg pages/
```

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
Circular dependencies:
pages/scan/index.js > utils/api.js > utils/request.js > pages/scan/index.js
```

#### 4. **Git æäº¤è´¨é‡åˆ†æ** â­â­â­

**ç»Ÿè®¡æœ€å¸¸ä¿®æ”¹çš„æ–‡ä»¶ï¼ˆçƒ­ç‚¹æ–‡ä»¶ï¼Œå¯èƒ½æœ‰é—®é¢˜ï¼‰**ï¼š
```bash
cd /Users/guojunmini4/Documents/æœè£…66666

# æœ€è¿‘30å¤©ä¿®æ”¹æœ€å¤šçš„æ–‡ä»¶
git log --since="30 days ago" --name-only --pretty=format: miniprogram/ | \
  sort | uniq -c | sort -rn | head -20
```

**ç¤ºä¾‹è¾“å‡º**ï¼š
```
  45 miniprogram/pages/scan/index.js     # é¢‘ç¹ä¿®æ”¹ï¼Œéœ€é‡æ„
  23 miniprogram/utils/api.js
  18 miniprogram/pages/work/index.js
```

#### 5. **ä¸šåŠ¡é€»è¾‘æ–‡æ¡£ç”Ÿæˆ - JSDoc** â­â­â­â­

**å®‰è£…**ï¼š
```bash
cd miniprogram
npm install -D jsdoc
```

**é…ç½® jsdoc.json**ï¼š
```json
{
  "source": {
    "include": ["pages", "utils"],
    "includePattern": ".+\\.js$"
  },
  "opts": {
    "destination": "./docs",
    "recurse": true,
    "readme": "README.md"
  }
}
```

**ç”Ÿæˆæ–‡æ¡£**ï¼š
```bash
npx jsdoc -c jsdoc.json
```

**åŠŸèƒ½**ï¼š
- ä»JSDocæ³¨é‡Šç”ŸæˆHTMLæ–‡æ¡£
- åˆ—å‡ºæ‰€æœ‰å‡½æ•°ã€å‚æ•°ã€è¿”å›å€¼
- å¸®åŠ©ç†è§£ä¸šåŠ¡é€»è¾‘

---

### ğŸ”¬ P3 - é«˜çº§å·¥å…·ï¼ˆæŒ‰éœ€ä½¿ç”¨ï¼‰

#### 1. **å•å…ƒæµ‹è¯• - Jest** â­â­â­

**å®‰è£…**ï¼š
```bash
cd miniprogram
npm install -D jest jest-environment-miniprogram
```

**ç¤ºä¾‹æµ‹è¯•ï¼ˆutils/validator.jsï¼‰**ï¼š
```javascript
// utils/__tests__/validator.test.js
const { validateFields, validators } = require('../validator');

describe('validator', () => {
  test('validateFields - ç©ºå€¼æ£€æµ‹', () => {
    const rules = [
      { field: 'username', value: '', message: 'è¯·è¾“å…¥ç”¨æˆ·å' }
    ];
    expect(validateFields(rules, false)).toBe(false);
  });

  test('validators.positive - æ­£æ•°æ ¡éªŒ', () => {
    expect(validators.positive(10)).toBe(true);
    expect(validators.positive(-5)).toBe(false);
    expect(validators.positive(0)).toBe(false);
  });
});
```

**è¿è¡Œæµ‹è¯•**ï¼š
```bash
npm test
```

#### 2. **æ€§èƒ½ç›‘æ§è„šæœ¬** â­â­â­

**åˆ›å»º scripts/analyze-performance.js**ï¼š
```javascript
const fs = require('fs');
const path = require('path');

// åˆ†ææ‰€æœ‰ setData è°ƒç”¨ï¼ˆå¤§æ•°æ®ä¼ è¾“ä¼šå¯¼è‡´å¡é¡¿ï¼‰
function analyzeSetData() {
  const files = getAllJsFiles('pages');
  const issues = [];

  files.forEach(file => {
    const content = fs.readFileSync(file, 'utf-8');
    const lines = content.split('\n');

    lines.forEach((line, idx) => {
      // æ£€æµ‹ setData ä¼ å…¥å¤§å¯¹è±¡
      if (line.includes('setData') && line.length > 200) {
        issues.push({
          file: file.replace(process.cwd(), ''),
          line: idx + 1,
          issue: 'setDataå¯èƒ½ä¼ è¾“æ•°æ®è¿‡å¤§',
          code: line.trim().slice(0, 100)
        });
      }
    });
  });

  return issues;
}

function getAllJsFiles(dir) {
  // é€’å½’è·å–æ‰€æœ‰JSæ–‡ä»¶...
}

console.log('æ€§èƒ½é—®é¢˜ï¼š', analyzeSetData());
```

**è¿è¡Œ**ï¼š
```bash
node scripts/analyze-performance.js
```

#### 3. **ä»£ç å®¡æŸ¥æ¸…å•ç”Ÿæˆå™¨** â­â­â­

**åˆ›å»º scripts/generate-review-checklist.sh**ï¼š
```bash
#!/bin/bash
cd miniprogram

echo "ğŸ“‹ ä»£ç å®¡æŸ¥æ¸…å•ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰"
echo ""

echo "1ï¸âƒ£ ä»£ç è´¨é‡é—®é¢˜ï¼š"
npm run æ£€æŸ¥ 2>&1 | grep "warning" | wc -l | xargs echo "  - ESLintè­¦å‘Šæ•°ï¼š"

echo ""
echo "2ï¸âƒ£ ç±»å‹æ£€æŸ¥é—®é¢˜ï¼š"
npm run ç±»å‹æ£€æŸ¥ 2>&1 | grep "error TS" | wc -l | xargs echo "  - TypeScripté”™è¯¯æ•°ï¼š"

echo ""
echo "3ï¸âƒ£ æ½œåœ¨Bugï¼ˆæœªä½¿ç”¨å˜é‡ï¼‰ï¼š"
grep -rn "const [a-zA-Z_]* =" pages/ --include="*.js" | wc -l | xargs echo "  - å˜é‡å£°æ˜æ•°ï¼š"
eslint pages/ 2>&1 | grep "no-unused-vars" | wc -l | xargs echo "  - æœªä½¿ç”¨å˜é‡æ•°ï¼š"

echo ""
echo "4ï¸âƒ£ ä»£ç å¤æ‚åº¦ï¼š"
wc -l pages/**/*.js | tail -1 | awk '{print "  - æ€»ä»£ç è¡Œæ•°ï¼š" $1}'

echo ""
echo "5ï¸âƒ£ ä¾èµ–é—®é¢˜ï¼š"
depcheck 2>&1 | grep "Unused" -A 5

echo ""
echo "âœ… å®¡æŸ¥å®Œæˆ"
```

**è¿è¡Œ**ï¼š
```bash
chmod +x scripts/generate-review-checklist.sh
./scripts/generate-review-checklist.sh
```

---

## ğŸš€ å¿«é€Ÿå®‰è£…æŒ‡å—

### æ–¹æ¡ˆAï¼šæ ¸å¿ƒå·¥å…·ï¼ˆæ¨èæ–°æ‰‹ï¼‰

```bash
cd miniprogram

# 1. å®‰è£… Prettier
npm install -D prettier
echo '{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100
}' > .prettierrc

# 2. æ·»åŠ è„šæœ¬
npm pkg set scripts.æ ¼å¼åŒ–="prettier --write \"**/*.{js,json,wxml,wxss}\""
npm pkg set scripts.æ£€æŸ¥æ ¼å¼="prettier --check \"**/*.{js,json,wxml,wxss}\""

# 3. å…¨å±€å®‰è£…ä¾èµ–æ£€æŸ¥
npm install -g depcheck

# 4. ä½¿ç”¨
npm run æ ¼å¼åŒ–
depcheck
```

### æ–¹æ¡ˆBï¼šå®Œæ•´å·¥å…·é“¾ï¼ˆæ¨èè¿›é˜¶ï¼‰

```bash
cd miniprogram

# 1. å®‰è£…æ‰€æœ‰å·¥å…·
npm install -D prettier jsdoc jest jest-environment-miniprogram
npm install -g depcheck jsinspect madge

# 2. æ·»åŠ å¤æ‚åº¦è§„åˆ™åˆ° package.json
# ï¼ˆéœ€æ‰‹åŠ¨ç¼–è¾‘ eslintConfig.rulesï¼Œæ·»åŠ ä¸Šè¿°è§„åˆ™ï¼‰

# 3. åˆ›å»ºæ–‡æ¡£é…ç½®
echo '{
  "source": {"include": ["pages", "utils"]},
  "opts": {"destination": "./docs", "recurse": true}
}' > jsdoc.json

# 4. æ·»åŠ æ‰€æœ‰è„šæœ¬
npm pkg set scripts.æ ¼å¼åŒ–="prettier --write \"**/*.{js,json,wxml,wxss}\""
npm pkg set scripts.æ£€æŸ¥æ ¼å¼="prettier --check \"**/*.{js,json,wxml,wxss}\""
npm pkg set scripts.ç”Ÿæˆæ–‡æ¡£="jsdoc -c jsdoc.json"
npm pkg set scripts.æ£€æµ‹é‡å¤="jsinspect pages/ -t 30"
npm pkg set scripts.æ£€æµ‹å¾ªç¯ä¾èµ–="madge --circular pages/"

# 5. è¿è¡Œå®Œæ•´æ£€æŸ¥
npm run å…¨é¢æ£€æŸ¥
depcheck
npm run æ£€æµ‹é‡å¤
npm run æ£€æµ‹å¾ªç¯ä¾èµ–
```

---

## ğŸ“– ä¸šåŠ¡é€»è¾‘ä¼˜åŒ–æœ€ä½³å®è·µ

### 1. æ¯æ—¥æ£€æŸ¥æ¸…å•

**æ—©ä¸Šæäº¤å‰**ï¼ˆ5åˆ†é’Ÿï¼‰ï¼š
```bash
cd miniprogram

# 1. è‡ªåŠ¨ä¿®å¤ä»£ç è§„èŒƒ
npm run ä¿®å¤

# 2. æ ¼å¼åŒ–ä»£ç 
npm run æ ¼å¼åŒ–

# 3. ç±»å‹æ£€æŸ¥
npm run ç±»å‹æ£€æŸ¥

# 4. æ£€æŸ¥ä¾èµ–
depcheck
```

**å‘¨äº”å‘å¸ƒå‰**ï¼ˆ15åˆ†é’Ÿï¼‰ï¼š
```bash
# 1. å®Œæ•´æ£€æŸ¥
npm run å…¨é¢æ£€æŸ¥

# 2. æ£€æµ‹é‡å¤ä»£ç 
npm run æ£€æµ‹é‡å¤

# 3. æ£€æµ‹å¾ªç¯ä¾èµ–
npm run æ£€æµ‹å¾ªç¯ä¾èµ–

# 4. çœŸæœºæµ‹è¯•
# ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ çœŸæœºè°ƒè¯• â†’ æµ‹è¯•æ ¸å¿ƒæµç¨‹
```

### 2. ä»£ç å®¡æŸ¥è¦ç‚¹

**ä¸šåŠ¡é€»è¾‘æ£€æŸ¥**ï¼š
- [ ] æ˜¯å¦æœ‰é‡å¤çš„ä¸šåŠ¡é€»è¾‘ä»£ç ï¼Ÿâ†’ æå–åˆ°å·¥å…·å‡½æ•°
- [ ] å‡½æ•°æ˜¯å¦è¿‡é•¿ï¼ˆ>150è¡Œï¼‰ï¼Ÿâ†’ æ‹†åˆ†ä¸ºå°å‡½æ•°
- [ ] åœˆå¤æ‚åº¦æ˜¯å¦è¿‡é«˜ï¼ˆ>15ï¼‰ï¼Ÿâ†’ ç®€åŒ–if-elseé€»è¾‘
- [ ] æ˜¯å¦æœ‰ç¡¬ç¼–ç çš„ä¸šåŠ¡è§„åˆ™ï¼Ÿâ†’ æå–ä¸ºé…ç½®

**æ€§èƒ½æ£€æŸ¥**ï¼š
- [ ] `setData` æ˜¯å¦ä¼ è¾“å¤§æ•°æ®ï¼Ÿâ†’ åªä¼ å¿…è¦æ•°æ®
- [ ] æ˜¯å¦æœ‰é¢‘ç¹çš„ `setData` è°ƒç”¨ï¼Ÿâ†’ æ‰¹é‡æ›´æ–°
- [ ] ç½‘ç»œè¯·æ±‚æ˜¯å¦æœ‰é˜²æŠ–èŠ‚æµï¼Ÿâ†’ æ·»åŠ é˜²é‡å¤ç‚¹å‡»
- [ ] åˆ—è¡¨æ¸²æŸ“æ˜¯å¦ä½¿ç”¨ `wx:key`ï¼Ÿâ†’ æå‡æ€§èƒ½

**é”™è¯¯å¤„ç†**ï¼š
- [ ] API è°ƒç”¨æ˜¯å¦æœ‰ try-catchï¼Ÿ
- [ ] æ˜¯å¦æœ‰ç”¨æˆ·å‹å¥½çš„é”™è¯¯æç¤ºï¼Ÿ
- [ ] æ˜¯å¦æœ‰é”™è¯¯æ—¥å¿—è®°å½•ï¼Ÿ

### 3. é‡æ„ä¼˜å…ˆçº§

**P0 - ç«‹å³é‡æ„**ï¼š
- âŒ é‡å¤ä»£ç è¶…è¿‡50è¡Œ
- âŒ å‡½æ•°å¤æ‚åº¦ >20
- âŒ å‡½æ•°è¡Œæ•° >200è¡Œ
- âŒ å¾ªç¯ä¾èµ–
- âŒ æœªå¤„ç†çš„å¼‚å¸¸

**P1 - æœ¬å‘¨é‡æ„**ï¼š
- âš ï¸ é‡å¤ä»£ç 30-50è¡Œ
- âš ï¸ å‡½æ•°å¤æ‚åº¦ 15-20
- âš ï¸ å‡½æ•°è¡Œæ•° 150-200è¡Œ
- âš ï¸ æœªä½¿ç”¨çš„å˜é‡/å‡½æ•°
- âš ï¸ ç¡¬ç¼–ç çš„ä¸šåŠ¡è§„åˆ™

**P2 - æœ¬æœˆä¼˜åŒ–**ï¼š
- ğŸ“ ç¼ºå°‘æ³¨é‡Šçš„å¤æ‚é€»è¾‘
- ğŸ“ å‡½æ•°å‚æ•°è¿‡å¤šï¼ˆ>5ä¸ªï¼‰
- ğŸ“ åµŒå¥—æ·±åº¦è¿‡æ·±ï¼ˆ>4å±‚ï¼‰
- ğŸ“ é­”æ³•æ•°å­—ï¼ˆæœªå®šä¹‰çš„å¸¸é‡ï¼‰

### 4. å·¥å…·ä½¿ç”¨é¢‘ç‡å»ºè®®

| å·¥å…· | é¢‘ç‡ | æ—¶æœº |
|------|------|------|
| `npm run æ£€æŸ¥` | æ¯æ¬¡æäº¤å‰ | å‘ç°é—®é¢˜ |
| `npm run ä¿®å¤` | æ¯æ¬¡æäº¤å‰ | è‡ªåŠ¨ä¿®å¤ |
| `npm run æ ¼å¼åŒ–` | æ¯æ¬¡æäº¤å‰ | ç»Ÿä¸€æ ¼å¼ |
| `npm run ç±»å‹æ£€æŸ¥` | æ¯å¤©1æ¬¡ | ä¸‹ç­å‰ |
| çœŸæœºè°ƒè¯• | æ¯ä¸ªåŠŸèƒ½å®Œæˆ | éªŒè¯ä½“éªŒ |
| æ€§èƒ½åˆ†æ | æ¯å‘¨1æ¬¡ | å‘¨äº”ä¸‹åˆ |
| ä¾èµ–æ£€æŸ¥ | æ¯æœˆ1æ¬¡ | æœˆåˆ |
| é‡å¤ä»£ç æ£€æµ‹ | æ¯æœˆ1æ¬¡ | æœˆåˆ |

---

## ğŸ“ å­¦ä¹ èµ„æº

### å®˜æ–¹æ–‡æ¡£
- [å¾®ä¿¡å°ç¨‹åºå¼€å‘æ–‡æ¡£](https://developers.weixin.qq.com/miniprogram/dev/framework/)
- [æ€§èƒ½ä¼˜åŒ–æŒ‡å—](https://developers.weixin.qq.com/miniprogram/dev/framework/performance/)
- [ä»£ç è´¨é‡æŒ‡å—](https://developers.weixin.qq.com/miniprogram/dev/framework/quality/)

### å·¥å…·æ–‡æ¡£
- [ESLint è§„åˆ™](https://eslint.org/docs/rules/)
- [Prettier é…ç½®](https://prettier.io/docs/en/options.html)
- [JSDoc è¯­æ³•](https://jsdoc.app/)

### æœ€ä½³å®è·µ
- [å¾®ä¿¡å°ç¨‹åºæœ€ä½³å®è·µ](https://developers.weixin.qq.com/community/develop/article/doc/000e2a6ee0c168e7b5589d7745b813)
- [JavaScript ä»£ç æ•´æ´ä¹‹é“](https://github.com/ryanmcdermott/clean-code-javascript)

---

## ğŸ“ å¸¸è§é—®é¢˜

### Q1: å·¥å…·å¤ªå¤šï¼Œä»å“ªå¼€å§‹ï¼Ÿ
**A**: ä»P0å·¥å…·å¼€å§‹ï¼š
1. ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·çš„"ä»£ç è´¨é‡"æ£€æŸ¥ï¼ˆæ— éœ€å®‰è£…ï¼‰
2. å®‰è£… Prettier æ ¼å¼åŒ–ä»£ç 
3. æ¯å¤©è¿è¡Œ `npm run æ£€æŸ¥` å’Œ `npm run ä¿®å¤`

### Q2: ESLint è­¦å‘Šå¤ªå¤šæ€ä¹ˆåŠï¼Ÿ
**A**: åˆ†æ‰¹ä¿®å¤ï¼š
1. å…ˆä¿®å¤ `--fix` å¯ä»¥è‡ªåŠ¨ä¿®å¤çš„
2. å†ä¿®å¤ç®€å•çš„ï¼ˆå¦‚æœªä½¿ç”¨å˜é‡ï¼‰
3. æœ€åä¿®å¤å¤æ‚çš„ï¼ˆå¦‚é‡æ„ï¼‰

### Q3: å¦‚ä½•è¯„ä¼°ä»£ç è´¨é‡ï¼Ÿ
**A**: å…³æ³¨4ä¸ªæŒ‡æ ‡ï¼š
1. **ESLintè­¦å‘Šæ•°**ï¼šç›®æ ‡ <5ä¸ª
2. **å‡½æ•°å¹³å‡è¡Œæ•°**ï¼šç›®æ ‡ <100è¡Œ
3. **é‡å¤ä»£ç ç‡**ï¼šç›®æ ‡ <10%
4. **åœˆå¤æ‚åº¦**ï¼šç›®æ ‡ <15

### Q4: æ€§èƒ½åˆ†æå‘ç°å¡é¡¿ï¼Œå¦‚ä½•ä¼˜åŒ–ï¼Ÿ
**A**: 3æ­¥æ’æŸ¥ï¼š
1. æ£€æŸ¥ `setData` å¤§å°ï¼ˆç›®æ ‡ <64KBï¼‰
2. æ£€æŸ¥ `setData` é¢‘ç‡ï¼ˆç›®æ ‡ <60æ¬¡/ç§’ï¼‰
3. æ£€æŸ¥é•¿ä»»åŠ¡ï¼ˆç›®æ ‡ <50msï¼‰

---

**æ€»ç»“**ï¼šå·¥å…·åªæ˜¯è¾…åŠ©ï¼Œæ ¸å¿ƒæ˜¯å…»æˆè‰¯å¥½çš„ç¼–ç ä¹ æƒ¯ã€‚å»ºè®®å…ˆä» P0 å·¥å…·å¼€å§‹ï¼Œé€æ­¥å¼•å…¥å…¶ä»–å·¥å…·ã€‚æŒç»­ä¼˜åŒ–ä»£ç è´¨é‡ï¼Œæ¯å‘¨è¿›æ­¥ä¸€ç‚¹ç‚¹ï¼ ğŸš€

# å¾®ä¿¡å°ç¨‹åº - å¼€å‘å·¥å…·ä¸è§„èŒƒæŒ‡å—

**æœ€åæ›´æ–°**: 2026-01-24  
**é¡¹ç›®**: æœè£…ä¾›åº”é“¾ç®¡ç†ç³»ç»Ÿ - å°ç¨‹åºç«¯

---

## ğŸ“‹ ç›®å½•

1. [å·¥å…·æ¸…å•](#å·¥å…·æ¸…å•)
2. [ä»£ç è´¨é‡æ£€æŸ¥](#ä»£ç è´¨é‡æ£€æŸ¥)
3. [ä»£ç ä¼˜åŒ–å·¥å…·](#ä»£ç ä¼˜åŒ–å·¥å…·)
4. [Bug æ£€æŸ¥æ–¹æ³•](#bugæ£€æŸ¥æ–¹æ³•)
5. [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
6. [å¼€å‘è§„èŒƒ](#å¼€å‘è§„èŒƒ)
7. [å¸¸è§é—®é¢˜è‡ªæŸ¥](#å¸¸è§é—®é¢˜è‡ªæŸ¥)

---

## ğŸ› ï¸ å·¥å…·æ¸…å•

### âœ… å·²é…ç½®å·¥å…·

| å·¥å…· | åŠŸèƒ½ | å‘½ä»¤ | é…ç½®æ–‡ä»¶ |
|------|------|------|----------|
| **ESLint** | JavaScript ä»£ç è´¨é‡æ£€æŸ¥ | `npm run æ£€æŸ¥` | package.json |
| **TypeScript** | JSDoc ç±»å‹æ£€æŸ¥ | `npm run ç±»å‹æ£€æŸ¥` | tsconfig.json |
| **å¾®ä¿¡å¼€å‘è€…å·¥å…·** | å®˜æ–¹ IDE + è°ƒè¯• | æ‰“å¼€é¡¹ç›® | project.config.json |
| **Design Token** | ç»Ÿä¸€è®¾è®¡å˜é‡ | - | styles/design-tokens.wxss |

### ğŸ¯ æ¨èè¡¥å……å·¥å…·

#### P0 - ç«‹å³å¯ç”¨ï¼ˆæ— éœ€å®‰è£…ï¼‰

**1. å¾®ä¿¡å¼€å‘è€…å·¥å…· - å†…ç½®åŠŸèƒ½** â­â­â­â­â­

**ä»£ç è´¨é‡æ£€æŸ¥**:
```
èœå•æ  â†’ å·¥å…· â†’ ä»£ç è´¨é‡
åŠŸèƒ½ï¼š
- æ£€æµ‹æœªä½¿ç”¨çš„å˜é‡
- æ£€æµ‹æœªå®šä¹‰çš„å˜é‡
- æ£€æµ‹è¯­æ³•é”™è¯¯
- æ£€æµ‹æ½œåœ¨çš„æ€§èƒ½é—®é¢˜
```

**æ€§èƒ½åˆ†æ**:
```
è°ƒè¯•å™¨ â†’ Performance
åŠŸèƒ½ï¼š
- å½•åˆ¶é¡µé¢åŠ è½½æ€§èƒ½
- åˆ†ææ¸²æŸ“è€—æ—¶
- æ£€æµ‹å†…å­˜æ³„æ¼
- æŸ¥çœ‹ç½‘ç»œè¯·æ±‚ç€‘å¸ƒå›¾
```

**ä»£ç ä¾èµ–åˆ†æ**:
```
å·¥å…· â†’ ä¾èµ–åˆ†æ
åŠŸèƒ½ï¼š
- åˆ†ææ–‡ä»¶ä¾èµ–å…³ç³»
- æ£€æµ‹å¾ªç¯ä¾èµ–
- æŸ¥çœ‹ä»£ç ä½“ç§¯å æ¯”
```

**ä½“ç§¯åˆ†æ**:
```
è¯¦æƒ… â†’ æœ¬åœ°è®¾ç½® â†’ ä»£ç è´¨é‡ â†’ ä¸Šä¼ ä»£ç æ—¶è¿›è¡Œä»£ç ä¿æŠ¤
è¯¦æƒ… â†’ åŸºæœ¬ä¿¡æ¯ â†’ æŸ¥çœ‹ä»£ç åŒ…å¤§å°
```

**2. çœŸæœºè°ƒè¯•** â­â­â­â­â­
```
å·¥å…·æ  â†’ çœŸæœºè°ƒè¯•
åŠŸèƒ½ï¼š
- åœ¨çœŸå®è®¾å¤‡ä¸Šæµ‹è¯•æ€§èƒ½
- æ£€æŸ¥ç½‘ç»œè¯·æ±‚
- è°ƒè¯•æ‰«ç åŠŸèƒ½ï¼ˆæ‘„åƒå¤´ï¼‰
- éªŒè¯ç”¨æˆ·ä½“éªŒ
```

#### P1 - æ¨èå®‰è£…

**1. VS Code æ‰©å±• - å¾®ä¿¡å°ç¨‹åºæ”¯æŒ**
```bash
# WXMLã€WXSS è¯­æ³•é«˜äº®
code --install-extension qiu8310.minapp-vscode

# å°ç¨‹åºä»£ç ç‰‡æ®µ
code --install-extension wechat-miniprogram.vscode-wxml
```

**2. Prettierï¼ˆæ ¼å¼åŒ–ï¼‰**
```bash
cd miniprogram
npm install -D prettier

# .prettierrc
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5"
}
```

---

## ğŸ” ä»£ç è´¨é‡æ£€æŸ¥

### 1. ESLint æ£€æŸ¥ï¼ˆå·²é…ç½® âœ…ï¼‰

**åŸºç¡€æ£€æŸ¥**:
```bash
cd miniprogram

# æ£€æŸ¥æ‰€æœ‰é—®é¢˜
npm run æ£€æŸ¥

# è‡ªåŠ¨ä¿®å¤ï¼ˆæ–°å¢ âœ¨ï¼‰
npm run ä¿®å¤

# æ£€æŸ¥å•ä¸ªæ–‡ä»¶
npm run æ£€æŸ¥ pages/scan/index.js

# åŒæ—¶è¿è¡Œæ£€æŸ¥ + ç±»å‹æ£€æŸ¥ï¼ˆæ–°å¢ âœ¨ï¼‰
npm run å…¨é¢æ£€æŸ¥
```

**å·²å¯ç”¨çš„è§„åˆ™**:
```javascript
{
  "no-unused-vars": "warn",      // æœªä½¿ç”¨çš„å˜é‡ï¼ˆè­¦å‘Šï¼‰
  "no-console": "off",           // å…è®¸ console
  "no-debugger": "warn",         // debugger è­¦å‘Š
  "no-empty": "warn",            // ç©ºä»£ç å—
  "no-unreachable": "warn",      // ä¸å¯è¾¾ä»£ç 
  "no-undef": "error",           // æœªå®šä¹‰å˜é‡ï¼ˆé”™è¯¯ï¼‰
  "eqeqeq": "warn",              // å¼ºåˆ¶ä½¿ç”¨ ===
  "curly": "warn",               // å¼ºåˆ¶ä½¿ç”¨èŠ±æ‹¬å·
  "no-var": "warn",              // ç¦æ­¢ varï¼Œä½¿ç”¨ let/const
  "prefer-const": "warn"         // ä¼˜å…ˆä½¿ç”¨ const
}
```

**ç¤ºä¾‹è¾“å‡º**:
```
/pages/scan/index.js
  45:7   warning  Unexpected var, use let or const instead  no-var
  78:12  warning  'oldData' is assigned a value but never used  no-unused-vars
  156:3  warning  Expected { after 'if' condition  curly
  
âœ– 3 warnings (0 errors)
  2 warnings potentially fixable with --fix
```

### 2. TypeScript ç±»å‹æ£€æŸ¥

**JSDoc æ³¨é‡Šç¤ºä¾‹**:
```javascript
/**
 * å¤„ç†æ‰«ç ç»“æœ
 * @param {string} codeStr - æ‰«ç å†…å®¹
 * @param {object} options - æ‰«ç é€‰é¡¹
 * @param {string} options.scanType - æ‰«ç ç±»å‹
 * @param {number} [options.quantity] - å¯é€‰æ•°é‡
 * @returns {Promise<object>} æ‰«ç ç»“æœ
 */
async processScanCode(codeStr, options) {
  // ...
}
```

**è¿è¡Œæ£€æŸ¥**:
```bash
npm run ç±»å‹æ£€æŸ¥
```

**å¸¸è§é”™è¯¯**:
```
pages/scan/index.js:45:7 - error TS2339: Property 'xxx' does not exist on type 'object'.
pages/work/index.js:78:12 - error TS7006: Parameter 'e' implicitly has an 'any' type.
```

---

## ğŸš€ ä»£ç ä¼˜åŒ–å·¥å…·

### 1. è‡ªåŠ¨æ ¼å¼åŒ–ï¼ˆæ¨èå®‰è£…ï¼‰

**å®‰è£… Prettier**:
```bash
cd miniprogram
npm install -D prettier

# åˆ›å»ºé…ç½®æ–‡ä»¶
cat > .prettierrc << 'EOF'
{
  "semi": true,
  "singleQuote": true,
  "tabWidth": 2,
  "trailingComma": "es5",
  "printWidth": 100
}
EOF
```

**æ·»åŠ æ ¼å¼åŒ–å‘½ä»¤**:
```json
// package.json
{
  "scripts": {
    "æ ¼å¼åŒ–": "prettier --write \"**/*.{js,json,wxml,wxss}\"",
    "æ£€æŸ¥æ ¼å¼": "prettier --check \"**/*.{js,json,wxml,wxss}\""
  }
}
```

**ä½¿ç”¨**:
```bash
# æ ¼å¼åŒ–æ‰€æœ‰æ–‡ä»¶
npm run æ ¼å¼åŒ–

# ä»…æ£€æŸ¥æ ¼å¼ï¼ˆä¸ä¿®æ”¹ï¼‰
npm run æ£€æŸ¥æ ¼å¼

# æ ¼å¼åŒ–å•ä¸ªæ–‡ä»¶
npx prettier --write pages/scan/index.js
```

### 2. ä»£ç å¤æ‚åº¦æ£€æŸ¥

**ä½¿ç”¨ ESLint å¤æ‚åº¦è§„åˆ™**:
```json
// package.json - eslintConfig
{
  "rules": {
    "complexity": ["warn", 15],         // åœˆå¤æ‚åº¦ä¸è¶…è¿‡15
    "max-depth": ["warn", 4],           // æœ€å¤§åµŒå¥—æ·±åº¦4å±‚
    "max-lines-per-function": ["warn", {
      "max": 150,                       // å‡½æ•°æœ€å¤š150è¡Œ
      "skipBlankLines": true,
      "skipComments": true
    }],
    "max-params": ["warn", 5]           // æœ€å¤š5ä¸ªå‚æ•°
  }
}
```

### 3. ä¾èµ–åˆ†æ

**å®‰è£… depcheck**:
```bash
npm install -g depcheck

# è¿è¡Œæ£€æŸ¥
cd miniprogram
depcheck
```

**è¾“å‡ºç¤ºä¾‹**:
```
Unused dependencies
* @types/node (åªåœ¨å¼€å‘æ—¶ä½¿ç”¨)

Missing dependencies
* lodash (åœ¨ä»£ç ä¸­å¼•ç”¨ä½†æœªå®‰è£…)
```

---

## ğŸ› Bug æ£€æŸ¥æ–¹æ³•

### 1. å¸¸è§ Bug ç±»å‹è‡ªæŸ¥æ¸…å•

#### âœ… æ•°æ®ç»‘å®šé—®é¢˜
```javascript
// âŒ é”™è¯¯ï¼šç›´æ¥ä¿®æ”¹ data
this.data.list.push(item);

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ setData
this.setData({
  list: [...this.data.list, item]
});
```

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æœç´¢ç›´æ¥ä¿®æ”¹ data çš„ä»£ç 
grep -rn "this.data\." pages/ --include="*.js" | grep -v "this.data\.[a-zA-Z]*)" | grep "="
```

#### âœ… äº‹ä»¶ç»‘å®šç¼ºå¤±
```wxml
<!-- âŒ é”™è¯¯ï¼šæ–¹æ³•åæ‹¼å†™é”™è¯¯ -->
<button bindtap="onReceiveOnlyTypo">é¢†å–ä»»åŠ¡</button>

<!-- âœ… æ­£ç¡®ï¼šæ£€æŸ¥ JS ä¸­æ˜¯å¦æœ‰å¯¹åº”æ–¹æ³• -->
<button bindtap="onReceiveOnly">é¢†å–ä»»åŠ¡</button>
```

**æ£€æŸ¥æ–¹æ³•**:
```bash
# 1. æå– WXML ä¸­çš„æ‰€æœ‰äº‹ä»¶ç»‘å®š
grep -rh "bind[a-z]*=\"" pages/ --include="*.wxml" | \
  grep -o 'bind[a-z]*="[^"]*"' | \
  cut -d'"' -f2 | sort -u > /tmp/wxml_events.txt

# 2. åœ¨å¯¹åº”çš„ JS æ–‡ä»¶ä¸­æŸ¥æ‰¾æ˜¯å¦å®šä¹‰
# (æ‰‹åŠ¨æ£€æŸ¥ï¼Œæˆ–ä½¿ç”¨è„šæœ¬è‡ªåŠ¨åŒ–)
```

#### âœ… API è°ƒç”¨é”™è¯¯
```javascript
// âŒ é”™è¯¯ï¼šå¿˜è®° await
const result = api.production.executeScan(params);
result.data  // undefinedï¼Œå› ä¸ºæ˜¯ Promise

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ await
const result = await api.production.executeScan(params);
result.data  // æ­£å¸¸
```

**æ£€æŸ¥å‘½ä»¤**:
```bash
# æœç´¢å¯èƒ½ç¼ºå°‘ await çš„ API è°ƒç”¨
grep -rn "api\." pages/ --include="*.js" | grep -v "await" | grep -v "then"
```

#### âœ… å˜é‡æœªå®šä¹‰
```javascript
// âŒ é”™è¯¯ï¼šä½¿ç”¨äº†æœªå®šä¹‰çš„å˜é‡
if (isMobile) { ... }  // isMobile æœªå®šä¹‰

// âœ… æ­£ç¡®ï¼šå…ˆå®šä¹‰å†ä½¿ç”¨
const isMobile = wx.getSystemInfoSync().platform === 'android';
if (isMobile) { ... }
```

**æ£€æŸ¥æ–¹æ³•**: ä½¿ç”¨ ESLint çš„ `no-undef` è§„åˆ™ï¼ˆå·²å¯ç”¨ âœ…ï¼‰

### 2. å¾®ä¿¡å¼€å‘è€…å·¥å…·è°ƒè¯•

**Console è°ƒè¯•**:
```javascript
// 1. åŸºç¡€è°ƒè¯•
console.log('å˜é‡å€¼:', this.data.scanConfirm);

// 2. å¯¹è±¡æ·±æ‹·è´è¾“å‡ºï¼ˆé¿å…å¼•ç”¨é—®é¢˜ï¼‰
console.log('æ·±æ‹·è´:', JSON.parse(JSON.stringify(this.data)));

// 3. æ¡ä»¶æ–­ç‚¹
if (this.data.orderNo === 'PO20260122001') {
  debugger;  // åªåœ¨ç‰¹å®šè®¢å•æ—¶ä¸­æ–­
}
```

**Network è°ƒè¯•**:
```
1. æ‰“å¼€è°ƒè¯•å™¨ â†’ Network
2. ç­›é€‰ XHR è¯·æ±‚
3. æŸ¥çœ‹è¯·æ±‚å‚æ•°ã€å“åº”æ•°æ®
4. æ£€æŸ¥ HTTP çŠ¶æ€ç 
```

**Storage è°ƒè¯•**:
```
è°ƒè¯•å™¨ â†’ Storage
- æŸ¥çœ‹ localStorage æ•°æ®
- æ¸…é™¤ç¼“å­˜æ•°æ®
- æ£€æŸ¥ Token æ˜¯å¦è¿‡æœŸ
```

### 3. çœŸæœºè°ƒè¯•å¿…æŸ¥é¡¹

**æ‰«ç åŠŸèƒ½**:
```
âš ï¸ æ¨¡æ‹Ÿå™¨æ— æ³•æµ‹è¯•æ‘„åƒå¤´ï¼Œå¿…é¡»çœŸæœºè°ƒè¯•ï¼

1. ç‚¹å‡»"é¢„è§ˆ"æˆ–"çœŸæœºè°ƒè¯•"
2. æ‰«æäºŒç»´ç 
3. åœ¨çœŸæœºä¸Šæµ‹è¯•æ‰«ç é¢†å–ä»»åŠ¡
4. è§‚å¯Ÿ console è¾“å‡º
```

**ç½‘ç»œè¯·æ±‚**:
```
1. çœŸæœºè°ƒè¯•æ¨¡å¼ä¸‹ï¼Œæ‰“å¼€ vConsole
2. åˆ‡æ¢åˆ° Network æ ‡ç­¾
3. æ£€æŸ¥è¯·æ±‚æ˜¯å¦æˆåŠŸ
4. æŸ¥çœ‹å“åº”æ—¶é—´
```

---

## âš¡ æ€§èƒ½ä¼˜åŒ–

### 1. æ€§èƒ½åˆ†æ

**ä½¿ç”¨å¾®ä¿¡å¼€å‘è€…å·¥å…·**:
```
1. è°ƒè¯•å™¨ â†’ Performance â†’ ç‚¹å‡»å½•åˆ¶
2. æ“ä½œé¡µé¢ï¼ˆå¦‚æ‰“å¼€å¼¹çª—ã€åŠ è½½åˆ—è¡¨ï¼‰
3. åœæ­¢å½•åˆ¶
4. åˆ†æç€‘å¸ƒå›¾ï¼š
   - è“è‰²ï¼šç½‘ç»œè¯·æ±‚
   - é»„è‰²ï¼šè„šæœ¬æ‰§è¡Œ
   - ç´«è‰²ï¼šæ¸²æŸ“
```

**å…³é”®æŒ‡æ ‡**:
- **é¦–å±æ¸²æŸ“æ—¶é—´**: < 1s
- **setData è°ƒç”¨é¢‘ç‡**: < 100æ¬¡/ç§’
- **å•æ¬¡ setData æ•°æ®é‡**: < 1MB
- **é¡µé¢å†…å­˜å ç”¨**: < 50MB

### 2. å¸¸è§æ€§èƒ½é—®é¢˜

#### âŒ é—®é¢˜1ï¼šé¢‘ç¹ setData
```javascript
// âŒ é”™è¯¯ï¼šå¾ªç¯ä¸­è°ƒç”¨ setData
for (let i = 0; i < 100; i++) {
  this.setData({
    [`list[${i}]`]: newItem
  });
}

// âœ… æ­£ç¡®ï¼šæ‰¹é‡æ›´æ–°
const updates = {};
for (let i = 0; i < 100; i++) {
  updates[`list[${i}]`] = newItem;
}
this.setData(updates);
```

#### âŒ é—®é¢˜2ï¼šsetData æ•°æ®é‡è¿‡å¤§
```javascript
// âŒ é”™è¯¯ï¼šä¼ é€’æ•´ä¸ªå¤§å¯¹è±¡
this.setData({
  historyList: largeArray  // 1000+ æ¡æ•°æ®
});

// âœ… æ­£ç¡®ï¼šåˆ†é¡µåŠ è½½
this.setData({
  historyList: largeArray.slice(0, 20)  // åªåŠ è½½å‰20æ¡
});
```

#### âŒ é—®é¢˜3ï¼šé•¿åˆ—è¡¨æ¸²æŸ“
```wxml
<!-- âŒ é”™è¯¯ï¼šä¸€æ¬¡æ¸²æŸ“1000æ¡ -->
<view wx:for="{{allRecords}}" wx:key="id">...</view>

<!-- âœ… æ­£ç¡®ï¼šä½¿ç”¨è™šæ‹Ÿåˆ—è¡¨æˆ–åˆ†é¡µ -->
<view wx:for="{{visibleRecords}}" wx:key="id">...</view>
```

### 3. ä»£ç ä½“ç§¯ä¼˜åŒ–

**æ£€æŸ¥ä»£ç åŒ…å¤§å°**:
```
è¯¦æƒ… â†’ åŸºæœ¬ä¿¡æ¯ â†’ ä»£ç åŒ…ä¿¡æ¯
ä¸»åŒ…: < 2MB
æ€»åŒ…: < 20MB
```

**åˆ†åŒ…åŠ è½½**ï¼ˆå¦‚éœ€è¦ï¼‰:
```json
// app.json
{
  "pages": ["pages/home/index"],
  "subPackages": [
    {
      "root": "pages/admin",
      "pages": ["index", "users"]
    }
  ]
}
```

---

## ğŸ“ å¼€å‘è§„èŒƒ

### 1. Design Token ä½¿ç”¨è§„èŒƒ â­â­â­â­â­

**ç»Ÿä¸€è®¾è®¡å˜é‡** (`styles/design-tokens.wxss`):
```wxss
/* âœ… ä½¿ç”¨ Design Token */
.button {
  background: var(--color-primary);
  border-radius: var(--radius-md);
  padding: var(--spacing-sm) var(--spacing-md);
}

/* âŒ ç¦æ­¢ç¡¬ç¼–ç  */
.button {
  background: linear-gradient(135deg, #3b82f6, #2563eb);
  border-radius: 12px;
  padding: 8px 16px;
}
```

**æ£€æŸ¥ç¡¬ç¼–ç **:
```bash
# æ£€æŸ¥ç¡¬ç¼–ç é¢œè‰²ï¼ˆåº”è¯¥ä¸º0ï¼‰
grep -rn "#[0-9a-fA-F]\{6\}" pages/ --include="*.wxss" | grep -v "var(--"

# æ£€æŸ¥ç¡¬ç¼–ç åœ†è§’ï¼ˆåº”è¯¥ä¸º0ï¼‰
grep -rn "border-radius: [0-9]" pages/ --include="*.wxss" | grep -v "var(--"
```

### 2. å…±äº«æ ·å¼åº“ä½¿ç”¨è§„èŒƒ â­â­â­â­â­

`styles/` ç›®å½•ä¸‹æœ‰ä¸‰ä¸ªå…±äº«æ ·å¼æ–‡ä»¶ï¼Œ**æ–°é¡µé¢å¿…é¡»æŒ‰éœ€ @importï¼Œç¦æ­¢é‡å¤å®šä¹‰**ï¼š

| æ–‡ä»¶ | èŒè´£ | åŒ…å«ç±» |
|------|------|--------|
| `design-tokens.wxss` | CSS å˜é‡å®šä¹‰ | `--color-*`ã€`--spacing-*`ã€`--radius-*`ã€`--font-size-*` |
| `modal-form.wxss` | å¼¹çª—è¡¨å• (`mf-*`) | `mf-form`ã€`mf-row`ã€`mf-label`ã€`mf-input` ç­‰ |
| `page-utils.wxss` | é¡µé¢é€šç”¨ UI å— | ç©ºçŠ¶æ€ã€åŠ è½½æ›´å¤šã€Tag æ ‡ç­¾ |

#### `page-utils.wxss` ç±»é€ŸæŸ¥

**ç©ºçŠ¶æ€** â€” æ— æ•°æ®æ—¶çš„å ä½è§†å›¾ï¼š
```wxss
/* ç©ºçŠ¶æ€ç±»å·²å…¨éƒ¨ç§»å…¥ app.wxssï¼ˆå…¨å±€åŠ è½½ï¼Œä»»ä½•é¡µé¢æ— éœ€ @import å³å¯ä½¿ç”¨ï¼‰ */
```
```wxml
<view class="empty-state">
  <text class="empty-icon">ğŸ“¦</text>      <!-- æˆ– <image class="empty-img" src="..."/> -->
  <text class="empty-text">æš‚æ— æ•°æ®</text>
  <text class="empty-hint">è¯•è¯•å…¶ä»–ç­›é€‰æ¡ä»¶</text>
</view>
```

| ç±»å | è¯´æ˜ | æ¥æº |
|------|------|------|
| `.empty-state` | å®¹å™¨ï¼Œflex åˆ—æ’åˆ—ï¼Œ`padding: 60px 20px` | `app.wxss` å…¨å±€ |
| `.empty-icon` | æ–‡å­— emoji å›¾æ ‡ï¼Œ`48px`ï¼Œ`opacity: 0.4` | `app.wxss` å…¨å±€ |
| `.empty-img` | å›¾ç‰‡å ä½ï¼Œ`200rpx` å®½ | `app.wxss` å…¨å±€ |
| `.empty-text` | ä¸»è¯´æ˜æ–‡å­—ï¼Œ`font-size-base`ï¼Œsecondary è‰² | `app.wxss` å…¨å±€ |
| `.empty-hint` | æ¬¡è¯´æ˜æ–‡å­—ï¼Œ`font-size-sm`ï¼Œdisabled è‰² | `app.wxss` å…¨å±€ |

**æœç´¢è¡Œ** â€” é¡µé¢é¡¶éƒ¨çš„æœç´¢æ¡†è¡Œï¼ˆä¹Ÿå·²åœ¨ `app.wxss` å…¨å±€å®šä¹‰ï¼Œæ— éœ€ @importï¼‰ï¼š

| ç±»å | è¯´æ˜ |
|------|------|
| `.search-row` | æœç´¢è¡Œå®¹å™¨ï¼Œflexï¼Œgap:6px |
| `.search-box` | æœç´¢æ¡†ï¼Œè“è‰²åŠé€æ˜èƒŒæ™¯ï¼Œround è¾¹æ¡† |
| `.search-icon` | æœç´¢å›¾æ ‡ï¼Œsm å­—å·ï¼Œopacity:0.5 |
| `.search-input` | æœç´¢è¾“å…¥æ¡† |
| `.search-btn` | æœç´¢æŒ‰é’®ï¼Œhover-class="search-btn-hover" |
| `.clear-btn` | æ¸…é™¤æŒ‰é’®ï¼Œhover-class="clear-btn-hover" |

**åŠ è½½æ›´å¤š / åˆ†é¡µ**ï¼ˆéœ€è¦ `@import '/styles/page-utils.wxss';`ï¼‰ï¼š
```wxml
<view class="load-more {{!hasMore ? 'disabled' : ''}}"
      hover-class="load-more-hover"
      bindtap="loadMore">åŠ è½½æ›´å¤š</view>
<view class="no-more" wx:if="{{!loading && !hasMore}}">æ²¡æœ‰æ›´å¤šäº†</view>
<view class="loading-more" wx:if="{{loading}}">åŠ è½½ä¸­...</view>
```

**Tag æ ‡ç­¾**ï¼š
```wxml
<text class="tag tag-blue">é¢œè‰²</text>     <!-- è“è‰²ï¼Œç­‰åŒ tag-color -->
<text class="tag tag-gray">å°ºç </text>     <!-- ç°è‰²ï¼Œç­‰åŒ tag-size -->
<text class="tag tag-green">å·²å®Œæˆ</text>  <!-- ç»¿è‰²ï¼Œç­‰åŒ tag-success -->
<text class="tag tag-orange">å¾…å¤„ç†</text> <!-- æ©™è‰²ï¼Œç­‰åŒ tag-warn -->
<text class="tag tag-red">å¼‚å¸¸</text>      <!-- çº¢è‰²ï¼Œç­‰åŒ tag-danger -->
<text class="tag tag-muted">å·²å…³é—­</text>  <!-- ç°è‰²é™éŸ³ -->
```

> âŒ **ç¦æ­¢**ï¼šåœ¨é¡µé¢ wxss ä¸­é‡æ–°å®šä¹‰ `.empty-state`ã€`.load-more`ã€`.no-more`ã€`.loading-more`ã€`.tag` ç­‰ç±»ï¼Œç›´æ¥å¼•ç”¨å…±äº«æ ·å¼å³å¯ã€‚  
> âœ… **å…è®¸**ï¼šç”¨å±€éƒ¨é€‰æ‹©å™¨è¦†ç›–å·®å¼‚ï¼ˆå¦‚ `.order-card .empty-state { padding-top: 80rpx; }`ï¼‰ã€‚

---

### 3. å‘½åè§„èŒƒ

**æ–‡ä»¶å‘½å**:
```
pages/scan/index.js          âœ… å°å†™ + è¿å­—ç¬¦
pages/work/components/       âœ… ç»„ä»¶ç›®å½•
utils/dataValidator.js       âœ… é©¼å³°å‘½å
```

**å˜é‡å‘½å**:
```javascript
// âœ… æ¨è
const userInfo = wx.getStorageSync('userInfo');
const scanHandler = new ScanHandler();

// âŒ é¿å…
const a = wx.getStorageSync('userInfo');
const sh = new ScanHandler();
```

**å¸¸é‡å‘½å**:
```javascript
// âœ… å…¨å¤§å†™ + ä¸‹åˆ’çº¿
const API_BASE_URL = 'https://api.example.com';
const MAX_RETRY_COUNT = 3;

// âŒ é¿å…
const apiUrl = 'https://api.example.com';
```

### 3. JSDoc æ³¨é‡Šè§„èŒƒ

**å‡½æ•°æ³¨é‡Š**:
```javascript
/**
 * å¤„ç†æ‰«ç ç»“æœï¼ˆå¿…é¡»åŒ…å«æè¿°ï¼‰
 * @param {string} codeStr - æ‰«ç å†…å®¹
 * @param {object} options - æ‰«ç é€‰é¡¹
 * @param {string} options.scanType - æ‰«ç ç±»å‹ï¼ˆauto/cutting/quality/warehouseï¼‰
 * @param {number} [options.quantity] - å¯é€‰ï¼šæ‰‹åŠ¨è¾“å…¥æ•°é‡
 * @returns {Promise<ScanResult>} æ‰«ç å¤„ç†ç»“æœ
 * @throws {Error} å½“æ‰«ç å†…å®¹æ— æ•ˆæ—¶æŠ›å‡ºé”™è¯¯
 */
async processScanCode(codeStr, options) {
  // ...
}
```

**ç±»å‹å®šä¹‰** (`types/index.js`):
```javascript
/**
 * @typedef {object} ScanResult
 * @property {boolean} success - æ˜¯å¦æˆåŠŸ
 * @property {string} message - æç¤ºæ¶ˆæ¯
 * @property {string} [orderNo] - è®¢å•å·ï¼ˆå¯é€‰ï¼‰
 * @property {number} [quantity] - æ•°é‡ï¼ˆå¯é€‰ï¼‰
 */
```

### 4. é”™è¯¯å¤„ç†è§„èŒƒ

**ç»Ÿä¸€é”™è¯¯å¤„ç†**:
```javascript
// âœ… æ¨èï¼šä½¿ç”¨ try-catch + ç»Ÿä¸€é”™è¯¯æç¤º
try {
  const result = await api.production.executeScan(params);
  wx.showToast({ title: 'æäº¤æˆåŠŸ', icon: 'success' });
} catch (e) {
  // ä½¿ç”¨ errorHandler ç»Ÿä¸€å¤„ç†
  const errorMsg = errorHandler.handleError(e, 'æ‰«ç æäº¤');
  wx.showToast({ title: errorMsg, icon: 'none' });
}

// âŒ é¿å…ï¼šåæ‰é”™è¯¯
api.production.executeScan(params).catch(() => {});
```

---

## ğŸ”§ å¸¸è§é—®é¢˜è‡ªæŸ¥

### é—®é¢˜1: "æ‰«ç é¢†å–ä»»åŠ¡æ²¡æœ‰ååº”"

**åŸå› æ’æŸ¥**:
```bash
# 1. æ£€æŸ¥ WXML äº‹ä»¶ç»‘å®š
grep "bindtap=\"onReceiveOnly\"" pages/scan/index.wxml

# 2. æ£€æŸ¥ JS æ–¹æ³•å®šä¹‰
grep "onReceiveOnly" pages/scan/index.js

# 3. æ£€æŸ¥æ§åˆ¶å°é”™è¯¯
# æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ Console
```

**è§£å†³æ–¹æ³•**: 
- âœ… ç¡®ä¿ JS ä¸­å®šä¹‰äº†å¯¹åº”æ–¹æ³•
- âœ… æ£€æŸ¥æ–¹æ³•åæ‹¼å†™æ˜¯å¦ä¸€è‡´
- âœ… ä½¿ç”¨çœŸæœºè°ƒè¯•éªŒè¯

### é—®é¢˜2: "æ•°æ®ä¸åˆ·æ–°"

**åŸå› **:
```javascript
// âŒ ç›´æ¥ä¿®æ”¹ dataï¼ˆä¸ä¼šè§¦å‘è§†å›¾æ›´æ–°ï¼‰
this.data.list.push(newItem);

// âœ… ä½¿ç”¨ setData
this.setData({
  list: [...this.data.list, newItem]
});
```

### é—®é¢˜3: "æ¥å£è°ƒç”¨å¤±è´¥"

**æ£€æŸ¥æ¸…å•**:
```javascript
// 1. æ£€æŸ¥ Token æ˜¯å¦æœ‰æ•ˆ
const token = wx.getStorageSync('token');
console.log('Token:', token);

// 2. æ£€æŸ¥ç½‘ç»œè¯·æ±‚é…ç½®ï¼ˆrequest.jsï¼‰
// ç¡®ä¿ baseURL æ­£ç¡®
// ç¡®ä¿ timeout è¶³å¤Ÿé•¿ï¼ˆ10sï¼‰

// 3. æŸ¥çœ‹ Network é¢æ¿
// æ£€æŸ¥è¯·æ±‚å‚æ•°ã€å“åº”çŠ¶æ€ç 

// 4. åç«¯æ—¥å¿—
// æ£€æŸ¥åç«¯æ˜¯å¦æ”¶åˆ°è¯·æ±‚
```

### é—®é¢˜4: "çœŸæœºæ‰«ç æ— æ•ˆ"

**æ£€æŸ¥**:
```javascript
// 1. æƒé™é…ç½®ï¼ˆapp.jsonï¼‰
{
  "permission": {
    "scope.camera": {
      "desc": "æ‰«ç éœ€è¦ä½¿ç”¨æ‘„åƒå¤´"
    }
  }
}

// 2. æ‰«ç é€»è¾‘ï¼ˆscan/index.jsï¼‰
wx.scanCode({
  onlyFromCamera: true,  // åªå…è®¸æ‘„åƒå¤´æ‰«ç 
  scanType: ['qrCode', 'barCode'],
  success: (res) => {
    console.log('æ‰«ç ç»“æœ:', res.result);
  }
});
```

---

## ğŸ“Š ä»£ç è´¨é‡æŒ‡æ ‡

### å½“å‰çŠ¶æ€ï¼ˆéœ€å®šæœŸæ£€æŸ¥ï¼‰

```bash
cd miniprogram

# ESLint æ£€æŸ¥
npm run æ£€æŸ¥ 2>&1 | grep "problems"
# ç›®æ ‡: 0 errors, < 10 warnings

# TypeScript æ£€æŸ¥
npm run ç±»å‹æ£€æŸ¥ 2>&1 | grep "error"
# ç›®æ ‡: 0 errors

# ç¡¬ç¼–ç æ£€æŸ¥
grep -rn "border-radius: [0-9]" pages/ --include="*.wxss" | grep -v "var(--" | wc -l
# ç›®æ ‡: 0

# ä»£ç åŒ…å¤§å°
# åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æŸ¥çœ‹
# ç›®æ ‡: ä¸»åŒ… < 2MB
```

### è´¨é‡æ”¹è¿›è®¡åˆ’

**Week 1**:
- [x] é…ç½® ESLint å¼ºåŒ–è§„åˆ™ âœ…
- [x] æ·»åŠ  `lint:fix` å‘½ä»¤ âœ…
- [ ] ä¿®å¤æ‰€æœ‰ ESLint errors
- [ ] æ·»åŠ  Prettier

**Week 2**:
- [ ] ä¸ºæ‰€æœ‰å…³é”®å‡½æ•°æ·»åŠ  JSDoc
- [ ] è¡¥å…… types/index.js ç±»å‹å®šä¹‰
- [ ] ä½¿ç”¨çœŸæœºè°ƒè¯•æµ‹è¯•æ‰€æœ‰åŠŸèƒ½

**Week 3**:
- [ ] æ€§èƒ½ä¼˜åŒ–ï¼ˆsetData æ‰¹é‡åŒ–ï¼‰
- [ ] ä»£ç å¤æ‚åº¦é™ä½ï¼ˆæ‹†åˆ†å¤§å‡½æ•°ï¼‰
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ¯æ—¥å¼€å‘æµç¨‹

```bash
# 1. è¿›å…¥å°ç¨‹åºç›®å½•
cd miniprogram

# 2. ä»£ç æ£€æŸ¥
npm run å…¨é¢æ£€æŸ¥

# 3. ä¿®å¤å¯è‡ªåŠ¨ä¿®å¤çš„é—®é¢˜
npm run ä¿®å¤

# 4. å¼€å‘...

# 5. æäº¤å‰å†æ¬¡æ£€æŸ¥
npm run å…¨é¢æ£€æŸ¥

# 6. çœŸæœºè°ƒè¯•éªŒè¯
# æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…· â†’ çœŸæœºè°ƒè¯•
```

### å…³é”®æ£€æŸ¥ç‚¹

- [ ] ESLint æ—  errorsï¼ˆwarnings < 10ï¼‰
- [ ] TypeScript æ—  errors
- [ ] æ‰€æœ‰æ–°å¢å‡½æ•°æœ‰ JSDoc æ³¨é‡Š
- [ ] ä½¿ç”¨ Design Tokenï¼ˆæ— ç¡¬ç¼–ç ï¼‰
- [ ] çœŸæœºè°ƒè¯•é€šè¿‡
- [ ] æ€§èƒ½æŒ‡æ ‡è¾¾æ ‡ï¼ˆPerformance < 2sï¼‰

---

**å‚è€ƒæ–‡æ¡£**:
- [å¾®ä¿¡å®˜æ–¹æ–‡æ¡£ - ä»£ç è´¨é‡](https://developers.weixin.qq.com/miniprogram/dev/framework/performance/)
- [ESLint è§„åˆ™æ–‡æ¡£](https://eslint.org/docs/latest/rules/)
- [TypeScript JSDoc å‚è€ƒ](https://www.typescriptlang.org/docs/handbook/jsdoc-supported-types.html)

---

*ç»´æŠ¤è€…ï¼šå¼€å‘å›¢é˜Ÿ*  
*å¦‚æœ‰é—®é¢˜ï¼ŒæŸ¥é˜… `å¼€å‘æŒ‡å—.md` æˆ–è”ç³»æŠ€æœ¯è´Ÿè´£äºº*
