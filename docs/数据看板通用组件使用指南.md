# æ•°æ®çœ‹æ¿é€šç”¨ç»„ä»¶ä½¿ç”¨æŒ‡å—

## ğŸ“¦ ç»„ä»¶åˆ—è¡¨

### 1. DashboardStats - ç»Ÿè®¡å¡ç‰‡ç»„

å±•ç¤ºå¤šä¸ªç»Ÿè®¡æ•°æ®çš„å¡ç‰‡ç»„ã€‚

**å¯¼å…¥**ï¼š
```typescript
import DashboardStats from '@/components/common/DashboardStats';
// æˆ–
import { DashboardStats } from '@/components/common/Dashboard';
```

**åŸºç¡€ç”¨æ³•**ï¼š
```typescript
<DashboardStats
  columns={4}  // æ¯è¡Œ4åˆ—
  stats={[
    { title: 'æ€»è®¢å•', value: 1250, suffix: 'ä¸ª', valueColor: '#1890ff' },
    { title: 'æ€»é‡‘é¢', value: 156800, prefix: 'Â¥', precision: 2, valueColor: '#52c41a' },
    { title: 'å¾…å¤„ç†', value: 23, suffix: 'ä¸ª', valueColor: '#faad14' },
    { title: 'å·²å®Œæˆ', value: 1227, suffix: 'ä¸ª', valueColor: '#52c41a' },
  ]}
/>
```

**å‚æ•°è¯´æ˜**ï¼š
- `stats`: ç»Ÿè®¡å¡ç‰‡é…ç½®æ•°ç»„
  - `title`: ç»Ÿè®¡æ ‡é¢˜
  - `value`: ç»Ÿè®¡å€¼
  - `prefix`: å‰ç¼€ï¼ˆå¦‚ Â¥ï¼‰
  - `suffix`: åç¼€ï¼ˆå¦‚ ä»¶ã€å…ƒï¼‰
  - `precision`: å°æ•°ä½æ•°
  - `valueColor`: æ•°å€¼é¢œè‰²
  - `loading`: å•ä¸ªå¡ç‰‡åŠ è½½çŠ¶æ€
- `columns`: æ¯è¡Œæ˜¾ç¤ºåˆ—æ•°ï¼ˆ2/3/4/6ï¼‰ï¼Œé»˜è®¤ 4
- `gutter`: å¡ç‰‡é—´è·ï¼Œé»˜è®¤ 16
- `loading`: å…¨å±€åŠ è½½çŠ¶æ€
- `style`: è‡ªå®šä¹‰æ ·å¼
- `className`: è‡ªå®šä¹‰ç±»å

**å®Œæ•´ç¤ºä¾‹**ï¼š
```typescript
<DashboardStats
  columns={6}
  gutter={16}
  loading={loading}
  style={{ marginBottom: 16 }}
  stats={[
    {
      title: 'åº“å­˜æ€»å€¼',
      value: 1289500,
      prefix: 'Â¥',
      precision: 2,
      valueColor: '#1890ff',
    },
    {
      title: 'ç‰©æ–™ç§ç±»',
      value: 156,
      suffix: 'ç§',
      valueColor: '#52c41a',
    },
    {
      title: 'ä½åº“å­˜é¢„è­¦',
      value: 8,
      suffix: 'ç§',
      valueColor: '#ff4d4f',
      loading: loadingWarning,  // å•ç‹¬æ§åˆ¶åŠ è½½çŠ¶æ€
    },
  ]}
/>
```

---

### 2. DashboardCard - æ•°æ®å¡ç‰‡

ç»Ÿä¸€æ ·å¼çš„å¡ç‰‡å®¹å™¨ï¼Œç”¨äºåŒ…è£…å›¾è¡¨ã€è¡¨æ ¼ç­‰å†…å®¹ã€‚

**å¯¼å…¥**ï¼š
```typescript
import DashboardCard from '@/components/common/DashboardCard';
// æˆ–
import { DashboardCard } from '@/components/common/Dashboard';
```

**åŸºç¡€ç”¨æ³•**ï¼š
```typescript
<DashboardCard
  title="è®¢å•è¶‹åŠ¿"
  icon={<LineChartOutlined />}
  extra={<Button size="small">æŸ¥çœ‹è¯¦æƒ…</Button>}
>
  <Line data={chartData} />
</DashboardCard>
```

**å‚æ•°è¯´æ˜**ï¼š
- `title`: å¡ç‰‡æ ‡é¢˜
- `icon`: æ ‡é¢˜å›¾æ ‡
- `extra`: å³ä¾§æ“ä½œåŒºåŸŸ
- `loading`: åŠ è½½çŠ¶æ€ï¼ˆæ˜¾ç¤º Spinï¼‰
- `bordered`: æ˜¯å¦æœ‰è¾¹æ¡†ï¼Œé»˜è®¤ true
- `size`: å°ºå¯¸ï¼ˆdefault/smallï¼‰
- `bodyStyle`: å†…å®¹åŒºåŸŸæ ·å¼
- `headStyle`: å¤´éƒ¨æ ·å¼
- `className`: è‡ªå®šä¹‰ç±»å
- `children`: å¡ç‰‡å†…å®¹

**å®Œæ•´ç¤ºä¾‹**ï¼š
```typescript
<DashboardCard
  title="é”€å”®è¶‹åŠ¿"
  icon={<BarChartOutlined />}
  extra={
    <Space>
      <Select defaultValue="week" size="small">
        <Option value="day">æŒ‰æ—¥</Option>
        <Option value="week">æŒ‰å‘¨</Option>
        <Option value="month">æŒ‰æœˆ</Option>
      </Select>
      <Button size="small">å¯¼å‡º</Button>
    </Space>
  }
  loading={chartLoading}
  bodyStyle={{ padding: '12px 24px' }}
>
  <Column data={salesData} />
</DashboardCard>
```

**ç‰¹æ€§**ï¼š
- ç©ºå†…å®¹è‡ªåŠ¨æ˜¾ç¤º Empty ç»„ä»¶
- hover æ—¶æœ‰é˜´å½±åŠ¨ç”»
- ç»Ÿä¸€çš„æ ‡é¢˜æ ·å¼å’Œå›¾æ ‡é¢œè‰²

---

### 3. DashboardTable - æ•°æ®è¡¨æ ¼çœ‹æ¿

å°è£…äº† Card + Tableï¼Œé€‚ç”¨äºçœ‹æ¿ä¸­çš„åˆ—è¡¨æ•°æ®å±•ç¤ºã€‚

**å¯¼å…¥**ï¼š
```typescript
import DashboardTable from '@/components/common/DashboardTable';
// æˆ–
import { DashboardTable } from '@/components/common/Dashboard';
```

**åŸºç¡€ç”¨æ³•**ï¼š
```typescript
<DashboardTable
  title="å¾…å¤„ç†è®¢å•"
  icon={<UnorderedListOutlined />}
  columns={[
    { title: 'è®¢å•å·', dataIndex: 'orderNo', key: 'orderNo' },
    { title: 'é‡‘é¢', dataIndex: 'amount', key: 'amount' },
  ]}
  dataSource={orders}
  loading={loading}
/>
```

**å‚æ•°è¯´æ˜**ï¼š
- `title`: å¡ç‰‡æ ‡é¢˜
- `icon`: æ ‡é¢˜å›¾æ ‡
- `extra`: å³ä¾§æ“ä½œåŒºåŸŸ
- `columns`: è¡¨æ ¼åˆ—é…ç½®ï¼ˆAnt Design Table columnsï¼‰
- `dataSource`: è¡¨æ ¼æ•°æ®æº
- `loading`: åŠ è½½çŠ¶æ€
- `rowKey`: è¡Œå”¯ä¸€é”®ï¼Œé»˜è®¤ 'id'
- `pagination`: åˆ†é¡µé…ç½®ï¼Œé»˜è®¤ falseï¼ˆä¸åˆ†é¡µï¼‰
- `size`: è¡¨æ ¼å°ºå¯¸ï¼Œé»˜è®¤ 'small'
- `scroll`: æ»šåŠ¨é…ç½®
- `onRow`: è¡Œç‚¹å‡»äº‹ä»¶
- `locale`: ç©ºæ•°æ®æç¤º

**å®Œæ•´ç¤ºä¾‹**ï¼š
```typescript
<DashboardTable
  title="ä½åº“å­˜é¢„è­¦"
  icon={<WarningOutlined />}
  extra={
    <Button size="small" type="link" onClick={() => navigate('/warehouse/material')}>
      æŸ¥çœ‹å…¨éƒ¨
    </Button>
  }
  columns={[
    {
      title: 'ç‰©æ–™ç¼–ç ',
      dataIndex: 'materialCode',
      key: 'materialCode',
      render: (text) => <strong>{text}</strong>,
    },
    {
      title: 'å¯ç”¨åº“å­˜',
      dataIndex: 'availableQty',
      key: 'availableQty',
      align: 'right',
      render: (qty, record) => (
        <span style={{ color: '#ff4d4f', fontWeight: 600 }}>
          {qty} {record.unit}
        </span>
      ),
    },
  ]}
  dataSource={lowStockItems}
  loading={loading}
  scroll={{ y: 300 }}
  onRow={(record) => ({
    onClick: () => handleRowClick(record),
  })}
/>
```

---

## ğŸ¨ å®Œæ•´çœ‹æ¿ç¤ºä¾‹

### ä»“åº“æ•°æ®çœ‹æ¿

```typescript
import React, { useState, useEffect } from 'react';
import { Row, Col, Button } from 'antd';
import { InboxOutlined, WarningOutlined } from '@ant-design/icons';
import { useNavigate } from 'react-router-dom';
import Layout from '@/components/Layout';
import DashboardStats from '@/components/common/DashboardStats';
import DashboardCard from '@/components/common/DashboardCard';
import DashboardTable from '@/components/common/DashboardTable';

const WarehouseDashboard: React.FC = () => {
  const navigate = useNavigate();
  const [loading, setLoading] = useState(false);

  return (
    <Layout>
      <div style={{ padding: '16px 24px' }}>
        {/* é¡¶éƒ¨ç»Ÿè®¡ */}
        <DashboardStats
          columns={6}
          loading={loading}
          style={{ marginBottom: 16 }}
          stats={[
            { title: 'åº“å­˜æ€»å€¼', value: 1289500, prefix: 'Â¥', precision: 2, valueColor: '#1890ff' },
            { title: 'ç‰©æ–™ç§ç±»', value: 156, suffix: 'ç§', valueColor: '#52c41a' },
            { title: 'æˆå“æ€»æ•°', value: 4520, suffix: 'ä»¶', valueColor: '#722ed1' },
            { title: 'ä½åº“å­˜é¢„è­¦', value: 8, suffix: 'ç§', valueColor: '#ff4d4f' },
            { title: 'ä»Šæ—¥å…¥åº“', value: 1200, suffix: 'æ¬¡', valueColor: '#13c2c2' },
            { title: 'ä»Šæ—¥å‡ºåº“', value: 850, suffix: 'æ¬¡', valueColor: '#faad14' },
          ]}
        />

        {/* æ•°æ®è¡¨æ ¼ */}
        <Row gutter={16}>
          <Col span={14}>
            <DashboardTable
              title="ä½åº“å­˜é¢„è­¦"
              icon={<WarningOutlined />}
              extra={<Button size="small" type="link">æŸ¥çœ‹å…¨éƒ¨</Button>}
              columns={lowStockColumns}
              dataSource={lowStockItems}
              loading={loading}
              scroll={{ y: 300 }}
            />
          </Col>
          
          <Col span={10}>
            <DashboardCard
              title="å¿«æ·æ“ä½œ"
              icon={<InboxOutlined />}
            >
              <Row gutter={16}>
                <Col span={12}>
                  <Button type="primary" block onClick={() => navigate('/warehouse/material')}>
                    ç‰©æ–™åº“å­˜
                  </Button>
                </Col>
                <Col span={12}>
                  <Button type="primary" block onClick={() => navigate('/warehouse/finished')}>
                    æˆå“åº“å­˜
                  </Button>
                </Col>
              </Row>
            </DashboardCard>
          </Col>
        </Row>
      </div>
    </Layout>
  );
};
```

---

## ğŸ¯ è®¾è®¡åŸåˆ™

### 1. **ä¸€è‡´æ€§**
- æ‰€æœ‰æ•°æ®çœ‹æ¿ä½¿ç”¨ç»Ÿä¸€çš„ç»„ä»¶
- ç»Ÿä¸€çš„æ ·å¼ã€é—´è·ã€å­—ä½“å¤§å°
- ç»Ÿä¸€çš„é¢œè‰²æ–¹æ¡ˆå’Œäº¤äº’

### 2. **å¯å¤ç”¨æ€§**
- ç»„ä»¶é«˜åº¦å¯é…ç½®
- æ”¯æŒè‡ªå®šä¹‰æ ·å¼å’Œç±»å
- TypeScript ç±»å‹å®Œå–„

### 3. **å“åº”å¼**
- æ”¯æŒä¸åŒåˆ—æ•°å¸ƒå±€ï¼ˆ2/3/4/6åˆ—ï¼‰
- è‡ªåŠ¨é€‚é…å®¹å™¨å®½åº¦
- è¡¨æ ¼æ”¯æŒæ»šåŠ¨å’Œå›ºå®šè¡¨å¤´

### 4. **æ€§èƒ½ä¼˜åŒ–**
- å•ç‹¬æ§åˆ¶æ¯ä¸ªå¡ç‰‡çš„åŠ è½½çŠ¶æ€
- æ”¯æŒè™šæ‹Ÿæ»šåŠ¨ï¼ˆé…åˆ Ant Design Tableï¼‰
- é¿å…ä¸å¿…è¦çš„é‡æ¸²æŸ“

---

## ğŸŒˆ é¢œè‰²æ–¹æ¡ˆ

æ¨èä½¿ç”¨çš„ç»Ÿè®¡æ•°å€¼é¢œè‰²ï¼š

```typescript
const COLORS = {
  primary: '#1890ff',    // ä¸»è‰²è°ƒ - è“è‰²
  success: '#52c41a',    // æˆåŠŸ - ç»¿è‰²
  warning: '#faad14',    // è­¦å‘Š - æ©™è‰²
  error: '#ff4d4f',      // é”™è¯¯ - çº¢è‰²
  purple: '#722ed1',     // ç´«è‰²
  cyan: '#13c2c2',       // é’è‰²
  magenta: '#eb2f96',    // å“çº¢
  volcano: '#fa541c',    // ç«å±±
};
```

---

## ğŸ“ è¿ç§»æŒ‡å—

### å°†ç°æœ‰çœ‹æ¿è¿ç§»åˆ°é€šç”¨ç»„ä»¶

**æ—§ä»£ç **ï¼š
```typescript
<Row gutter={16}>
  <Col span={6}>
    <Card>
      <Statistic 
        title="æ€»è®¢å•" 
        value={1250} 
        suffix="ä¸ª" 
        styles={{ value: { color: '#1890ff' } }} 
      />
    </Card>
  </Col>
  <Col span={6}>
    <Card>
      <Statistic 
        title="æ€»é‡‘é¢" 
        value={156800} 
        prefix="Â¥" 
        precision={2} 
        styles={{ value: { color: '#52c41a' } }} 
      />
    </Card>
  </Col>
  {/* é‡å¤ä»£ç ... */}
</Row>
```

**æ–°ä»£ç **ï¼š
```typescript
<DashboardStats
  columns={4}
  stats={[
    { title: 'æ€»è®¢å•', value: 1250, suffix: 'ä¸ª', valueColor: '#1890ff' },
    { title: 'æ€»é‡‘é¢', value: 156800, prefix: 'Â¥', precision: 2, valueColor: '#52c41a' },
  ]}
/>
```

**ä¼˜åŠ¿**ï¼š
- âœ… ä»£ç é‡å‡å°‘ 70%
- âœ… æ›´æ˜“ç»´æŠ¤å’Œä¿®æ”¹
- âœ… ç»Ÿä¸€æ ·å¼å’Œå¸ƒå±€
- âœ… æ›´å¥½çš„ç±»å‹æç¤º

---

## ğŸ”§ è‡ªå®šä¹‰æ‰©å±•

### æ‰©å±• DashboardStats æ·»åŠ ç‚¹å‡»äº‹ä»¶

```typescript
// æ‰©å±•é…ç½®æ¥å£
interface StatCardConfigWithClick extends StatCardConfig {
  onClick?: () => void;
}

// ä½¿ç”¨æ—¶
<DashboardStats
  stats={[
    {
      title: 'å¾…å¤„ç†è®¢å•',
      value: 23,
      suffix: 'ä¸ª',
      valueColor: '#faad14',
      onClick: () => navigate('/orders?status=pending'),
    },
  ]}
/>
```

### è‡ªå®šä¹‰å¡ç‰‡æ ·å¼

```typescript
<DashboardCard
  title="è‡ªå®šä¹‰å¡ç‰‡"
  className="my-custom-card"
  headStyle={{ background: '#f0f2f5' }}
  bodyStyle={{ padding: '24px' }}
>
  {/* å†…å®¹ */}
</DashboardCard>
```

---

**æœ€åæ›´æ–°**ï¼š2026-01-28  
**ç»´æŠ¤è€…**ï¼šå‰ç«¯å›¢é˜Ÿ
